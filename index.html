<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resume Skill Extractor</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
      body {
        min-height: 100vh;
        margin: 0;
        font-family: 'Montserrat', 'Roboto', sans-serif;
        background: var(--primary-bg);
        color: var(--primary-text);
        transition: background 0.3s, color 0.3s;
        padding-top: 80px;
      }
      :root {
        --primary-bg: #f4f4f4;
        --primary-text: #222;
        --secondary-bg: #fff;
        --accent: #007bff;
        --card-bg: #fff;
        --secondary-text: #555;
      }
      [data-theme="dark"] {
        --primary-bg: #181a1b;
        --primary-text: #f4f4f4;
        --secondary-bg: #23272a;
        --accent: #00bfff;
        --card-bg: #23272a;
        --secondary-text: #bbb;
        --dark-blue-accent: #1e90ff;

        /* Ensure split layout styles are not overridden in dark mode */
        /* Removed duplicate split layout styles */

        /* Remove 'box under box' appearance in dark mode split view */
        #extractorCard.extractor-split > .extractor-left-content,
        #extractorCard.extractor-split > .extractor-right-content {
            background: none;
            box-shadow: none;
            border: none;
            padding: 0 1rem;
        }

        /* Ensure skill chip styles are correct in dark mode */
        .skill-chip {
            background-color: #23272a;
            color: #f4f4f4;
            border: 1px solid #555;
        }

        /* Ensure progress bar container background is correct in dark mode */
        .domain-progress-bar-container {
            background-color: var(--secondary-bg);
        }

        /* Ensure category heading color is correct in dark mode */
        #skillsList h4 {
             color: var(--primary-text);
        }

      }
      #root {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1rem;
        display: flex;
        gap: 30px;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
      }
      .left-section,
      .right-section {
        flex: 1 1 50%;
        min-width: 300px;
        background: rgba(255,255,255,0.18);
        border-radius: 24px;
        box-shadow: 0 8px 40px 0 rgba(0,0,0,0.18), 0 0 0 4px rgba(0,123,255,0.15);
        backdrop-filter: blur(16px) saturate(180%);
        -webkit-backdrop-filter: blur(16px) saturate(180%);
        border: 2px solid rgba(255,255,255,0.25);
        padding: 2rem;
        transition: all 0.5s ease;
      }
      .left-section {
        text-align: center;
      }
      .right-section {
        text-align: center;
      }
      #extractorCard,
      #historySection {
        background: none;
        box-shadow: none;
        border: none;
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        padding: 0;
        max-width: 100%;
      }
      h2 {
        margin-top: 0;
        color: var(--accent);
        font-family: 'Montserrat', 'Roboto', sans-serif;
        font-size: 2.5rem;
        letter-spacing: 1px;
        text-shadow: 0 2px 8px rgba(0,0,0,0.10);
      }
      ul {
        list-style: none;
        padding: 0;
        text-align: left;
        max-width: 300px;
        margin: 20px auto;
      }
      li {
        margin: 1rem 0;
      }
      a {
        color: var(--accent);
        text-decoration: none;
        font-weight: 600;
        transition: color 0.2s, text-shadow 0.2s;
        text-shadow: 0 1px 4px rgba(0,0,0,0.08);
      }
      a:hover {
        color: #ff9800;
        text-shadow: 0 2px 8px #ff9800aa;
      }
      .floating-icons {
        position: fixed;
        top: 50%;
        left: 24px;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 18px;
        z-index: 1000;
      }
      .floating-icons a {
        background: var(--card-bg);
        color: var(--accent);
        border-radius: 50%;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0,0,0,0.10);
        font-size: 1.4rem;
        transition: background 0.2s, color 0.2s, box-shadow 0.2s;
        border: 2px solid rgba(0,123,255,0.15);
      }
      .floating-icons a:hover {
        background: var(--accent);
        color: #fff;
        box-shadow: 0 0 16px #007bff88;
      }
      .theme-toggle {
        position: fixed;
        top: 24px;
        right: 32px;
        background: var(--card-bg);
        border: none;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0,0,0,0.10);
        font-size: 1.3rem;
        color: var(--accent);
        transition: background 0.2s, color 0.2s;
        z-index: 1100;
        border: 2px solid rgba(0,123,255,0.15);
      }
      .theme-toggle:hover {
        background: var(--accent);
        color: #fff;
        box-shadow: 0 0 16px #007bff88;
      }
      footer {
        margin-top: 2.5rem;
        text-align: center;
        color: #888;
        font-size: 1rem;
        letter-spacing: 0.5px;
        text-shadow: 0 1px 4px rgba(0,0,0,0.08);
      }
      @media (max-width: 700px) {
        #root {
          max-width: 98vw;
          padding: 1.2rem 0.5rem 1rem 0.5rem;
        }
        .theme-toggle {
          right: 12px;
          top: 12px;
        }
      }
      @media (max-width: 500px) {
        .floating-icons {
          flex-direction: row;
          top: auto;
          bottom: 16px;
          left: 50%;
          transform: translateX(-50%);
          gap: 16px;
        }
        .theme-toggle {
          top: 12px;
          right: 6px;
        }
        #root {
          margin-top: 0;
          padding: 1rem 0.5rem;
        }
        .floating-img:not(.corner-image) {
          display: none;
        }
        .left-section, .right-section {
          padding: 1.5rem 1rem;
          min-width: unset;
        }
        .left-section h2 {
          font-size: 1.8rem;
          word-break: break-word;
          text-align: center;
          margin-bottom: 0.5rem;
        }
      }
      #extractorCard {
        max-width: 90%;
        margin: 3.5rem auto 0 auto;
        background: rgba(255,255,255,0.18);
        border-radius: 36px;
        box-shadow: 0 8px 40px 0 rgba(0,0,0,0.18), 0 0 0 6px rgba(0,123,255,0.18);
        padding: 2rem 1rem;
        border: 2px solid rgba(255,255,255,0.25);
        backdrop-filter: blur(18px) saturate(180%);
        -webkit-backdrop-filter: blur(18px) saturate(180%);
        position: relative;
        text-align: center;
        color: var(--primary-text);
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: all 0.5s ease;
      }
      #extractorCard > *:not(.extractor-images) {
        background: var(--card-bg);
        border-radius: 8px;
        width: 100%;
        max-width: 400px;
        margin: 0.5rem auto;
        box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        padding: 0.8rem;
        box-sizing: border-box;
      }
      .extractor-images {
        margin-bottom: 2rem;
      }
      #extractorCard h3 {
        margin-top: 0;
        color: var(--accent);
      }
      #uploadBtn {
        background: var(--accent);
        color: #fff;
        border: none;
        border-radius: 20px;
        padding: 0.6rem 1.5rem;
        font-size: 1rem;
        font-family: inherit;
        font-weight: 500;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0,0,0,0.10);
        transition: background 0.2s, color 0.2s;
        margin-bottom: 1rem;
        box-shadow: 0 0 8px #007bff44;
        border: 2px solid rgba(0,123,255,0.15);
      }
      #uploadBtn:hover {
        background: #ff9800;
        color: #fff;
        box-shadow: 0 0 16px #ff980088;
      }
      #status {
        color: var(--accent);
        min-height: 24px;
        font-size: 1rem;
        margin: 1rem 0;
      }
      #skillsList {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
        margin-top: 0.5rem;
      }
      .skill-chip {
        padding: 6px 12px;
        border: 1px solid #888;
        border-radius: 20px;
        background-color: #eee;
        color: #222;
        font-size: 0.98rem;
        margin-bottom: 5px;
        transition: background 0.2s, color 0.2s, transform 0.3s ease, opacity 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 4px;
        opacity: 0;
        transform: translateY(10px);
        animation: fadeInChip 0.3s ease-out forwards;
      }
      @keyframes fadeInChip {
          to { transform: translateY(0); opacity: 1; }
      }
      [data-theme="dark"] #extractorCard {
        background: var(--card-bg);
        color: var(--primary-text);
      }
      [data-theme="dark"] .skill-chip {
        background-color: #23272a;
        color: #f4f4f4;
        border: 1px solid #555;
      }
      @media (max-width: 700px) {
        #extractorCard {
          max-width: 98vw;
          padding: 1.2rem 0.5rem 1rem 0.5rem;
          border-radius: 18px;
        }
        .extractor-illustration {
          width: 80px;
          height: 80px;
        }
      }
      .extractor-illustration {
        width: 80px;
        height: 80px;
        object-fit: contain;
        margin-bottom: 1rem;
        border-radius: 16px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.10);
        background: var(--secondary-bg);
        margin-right: 10px;
        margin-left: 10px;
      }
      .extractor-images {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 1rem;
        flex-wrap: wrap;
      }
      .extractor-actions {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        margin-bottom: 1.2rem;
      }
      .extractor-file-row {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.7rem;
        width: 100%;
      }
      #resumeFile {
        margin: 0 auto 0.5rem auto;
        display: block;
      }
      #uploadBtn {
        margin: 0.5rem auto 1rem auto;
        display: block;
      }
      .corner-image {
        position: fixed;
        z-index: 900;
        width: 60px;
        height: 60px;
        opacity: 0.7;
        pointer-events: none;
      }
      .corner-image.topleft {
        top: 12px;
        left: 12px;
      }
      .corner-image.topright {
        top: 12px;
        right: 12px;
      }
      .corner-image.bottomleft {
        bottom: 12px;
        left: 12px;
      }
      .corner-image.bottomright {
        bottom: 12px;
        right: 12px;
      }
      @media (max-width: 700px) {
        .corner-image {
          width: 36px;
          height: 36px;
        }
      }
      .floating-svg {
        position: fixed;
        left: 50%;
        top: 0;
        transform: translateX(-50%);
        z-index: 0;
        opacity: 0.18;
        pointer-events: none;
        animation: floatShape 8s ease-in-out infinite alternate;
      }
      @keyframes floatShape {
        0% { transform: translateX(-50%) translateY(0); }
        100% { transform: translateX(-50%) translateY(40px); }
      }
      .floating-img {
        position: fixed;
        z-index: 10;
        width: 40px;
        height: 40px;
        opacity: 0.7;
        pointer-events: none;
        animation: floatY 5s ease-in-out infinite alternate;
      }
      .floating-img.right {
        top: 20%;
        right: 32px;
        animation-delay: 0s;
      }
      .floating-img.left {
        top: 60%;
        left: 32px;
        animation-delay: 2s;
      }
      .floating-img.bottom {
        bottom: 32px;
        left: 50%;
        transform: translateX(-50%);
        animation-delay: 1s;
      }
      @keyframes floatY {
        0% { transform: translateY(0); }
        100% { transform: translateY(-60px); }
      }
      @media (max-width: 700px) {
        .floating-img {
          width: 40px;
          height: 40px;
        }
        .floating-img.right, .floating-img.left {
          right: 8px;
          left: 8px;
        }
        .floating-img.bottom {
          bottom: 8px;
        }
      }
      .float-diag {
        animation: floatDiag 7s ease-in-out infinite alternate;
      }
      .float-diag2 {
        animation: floatDiag2 8s ease-in-out infinite alternate;
      }
      .float-left-right {
        animation: floatLeftRight 6s ease-in-out infinite alternate;
      }
      .float-fast {
        animation: floatY 3s ease-in-out infinite alternate;
      }
      .float-fast2 {
        animation: floatY 2.5s ease-in-out infinite alternate;
      }
      @keyframes floatDiag {
        0% { transform: translateY(0) translateX(0); }
        100% { transform: translateY(-60px) translateX(50px); }
      }
      @keyframes floatDiag2 {
        0% { transform: translateY(0) translateX(0); }
        100% { transform: translateY(-50px) translateX(-50px); }
      }
      @keyframes floatLeftRight {
        0% { transform: translateX(0); }
        100% { transform: translateX(60px); }
      }
      @keyframes floatBelowBox {
        0% { transform: translateX(-50%) translateY(0); }
        100% { transform: translateX(-50%) translateY(-40px); }
      }
      @keyframes floatYExtended {
        0% { transform: translateY(0); }
        100% { transform: translateY(-80px); }
      }
      @keyframes floatXExtended {
        0% { transform: translateX(0); }
        100% { transform: translateX(80px); }
      }
      @keyframes floatDiagExtended {
        0% { transform: translateY(0) translateX(0); }
        100% { transform: translateY(-80px) translateX(80px); }
      }
      @keyframes floatDiagExtended2 {
        0% { transform: translateY(0) translateX(0); }
        100% { transform: translateY(-80px) translateX(-80px); }
      }
      #historySection {
        max-width: 90%;
        margin: 2rem auto 0 auto;
        background: var(--card-bg);
        border-radius: 18px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        padding: 1.5rem;
        color: var(--primary-text);
        text-align: left;
        display: none;
      }
      #historySection h3 {
        margin-top: 0;
        color: var(--accent);
      }
      #historyList {
        margin-top: 1rem;
      }
      .history-entry {
        background: var(--secondary-bg);
        border-radius: 8px;
        padding: 0.8rem 1rem;
        margin-bottom: 1rem;
        cursor: pointer;
        transition: background 0.2s, box-shadow 0.2s;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      }
      .history-entry:hover {
        background: var(--primary-bg);
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      }
      .history-entry-info {
        flex-grow: 1;
        margin-right: 1rem;
      }
      .history-entry-info p {
        margin: 0;
        font-size: 0.9rem;
      }
      .history-entry-actions {
        display: flex;
        align-items: center;
      }
      .history-entry-name {
        font-weight: 600;
        margin-bottom: 0.4rem;
        font-size: 1rem;
      }
      .history-entry-name input[type="text"] {
        font-size: 1rem;
        padding: 4px;
        border-radius: 4px;
        border: 1px solid #ccc;
        width: 100%;
      }
      .history-entry-delete {
        color: #ff4d4d;
        cursor: pointer;
        font-size: 1.1rem;
        margin-left: 0.8rem;
        transition: color 0.2s;
      }
      .history-entry-delete:hover {
        color: #ff1a1a;
      }
      #skillSearch {
        box-sizing: border-box;
      }
      .left-section.collapsed-left {
        flex: unset;
        width: 100%;
        max-width: 100%;
        height: 80px;
        overflow: hidden;
        padding: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .left-section.collapsed-left h2 {
        margin: 0;
      }
      .left-section.collapsed-left > *:not(h2):not(#expandLeftSectionBtn):not(.external-links-container) {
        display: none;
      }
      .left-section.collapsed-left #expandLeftSectionBtn {
        display: block;
      }
      .right-section.expanded-right {
        flex: unset;
        width: 100%;
        max-width: 100%;
        margin-top: 20px;
      }
      #extractorCard.extractor-split {
        flex-direction: row;
        align-items: flex-start;
      }
      .extractor-left-content {
        flex: 1;
        padding-right: 1rem;
      }
      .extractor-right-content {
        flex: 1;
        min-width: 300px;
        padding-left: 1rem;
      }
      #extractorCard > *:not(.extractor-images) {
      }
      #skillSearch {
        box-sizing: border-box;
        width: 100%;
      }
      .domain-progress-item {
          margin-bottom: 12px;
      }
      .domain-progress-item p {
          margin: 0 0 4px 0;
          font-size: 0.9rem;
          color: var(--secondary-text);
      }
      .domain-progress-bar-container {
          width: 100%;
          background-color: var(--secondary-bg);
          border-radius: 12px;
          overflow: hidden;
          height: 12px;
          box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
      }
      .domain-progress-bar {
          height: 100%;
          background-color: var(--accent);
          border-radius: 12px;
          transition: width 0.5s ease-in-out;
      }
    </style>
    <style>
      .neon-text {
        color: #fff;
        text-shadow:
          0 0 7px #fff,
          0 0 10px #fff,
          0 0 21px #fff,
          0 0 42px #00bfff,
          0 0 82px #00bfff,
          0 0 92px #00bfff,
          0 0 102px #00bfff,
          0 0 151px #00bfff;
      }
    </style>
    <style>
      .top-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: var(--card-bg);
        color: var(--primary-text);
        padding: 0.5rem 1.5rem;
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        backdrop-filter: blur(8px) saturate(180%);
        -webkit-backdrop-filter: blur(8px) saturate(180%);
        border-bottom: 2px solid rgba(0, 123, 255, 0.15);
        box-sizing: border-box;
        flex-wrap: wrap;
      }
      .top-bar .project-info {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .top-bar .project-info img {
        height: 30px;
      }
      .top-bar .project-info h1 {
        font-size: 1.5rem;
        margin: 0;
        color: var(--accent);
      }
      .nav-links-container {
        display: flex;
        gap: 15px;
        align-items: center;
      }
      .top-bar .github-links {
        display: flex;
        gap: 15px;
        align-items: center;
      }
      .top-bar .github-links a,
      .top-bar .top-bar-button {
        color: var(--primary-text);
        text-decoration: none;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 4px;
        transition: color 0.2s, background 0.2s;
      }
      .top-bar .github-links a:hover,
      .top-bar .top-bar-button:hover {
        color: var(--accent);
        background: none;
      }
      .top-bar .theme-toggle {
          position: static;
          margin-left: 10px;
      }
      #mobileNavToggle {
        display: none;
        background: none;
        border: none;
        color: var(--primary-text);
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        margin-left: auto;
      }
      @media (max-width: 768px) {
        .top-bar {
          flex-direction: row;
          justify-content: space-between;
          align-items: flex-start;
          height: auto;
          padding: 0.5rem 1rem;
          flex-wrap: wrap;
        }
        .top-bar .project-info {
             flex-grow: 1;
        }
        .nav-links-container {
          width: 100%;
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
          display: none;
          padding-bottom: 0.5rem;
        }
        .nav-links-container.expanded {
          display: flex;
        }
        #mobileNavToggle {
          display: block;
        }
         body {
            padding-top: 110px;
         }
         .top-bar .theme-toggle {
             margin-left: 0;
         }
         .top-bar .github-links,
         .top-bar .top-bar-button {
             width: 100%;
             justify-content: flex-start;
             padding: 0.3rem 0;
         }
      }
      @media (max-width: 500px) {
           body {
              padding-top: 140px;
           }
           .top-bar {
               padding: 0.5rem 0.8rem;
           }
           .left-section h2 {
               font-size: 1.8rem;
               word-break: break-word;
               text-align: center;
               margin-bottom: 0.5rem;
           }
        }
    </style>
    <style>
      .fade-in {
        animation: fadeIn 1s ease-out;
      }
      @keyframes fadeIn {
        0% { opacity: 0; }
        100% { opacity: 1; }
      }

      .slide-in-left {
        animation: slideInLeft 0.8s ease-out;
      }
      @keyframes slideInLeft {
        0% { transform: translateX(-50px); opacity: 0; }
        100% { transform: translateX(0); opacity: 1; }
      }

      .slide-in-right {
        animation: slideInRight 0.8s ease-out;
      }
      @keyframes slideInRight {
        0% { transform: translateX(50px); opacity: 0; }
        100% { transform: translateX(0); opacity: 1; }
      }
    </style>
    <style>
      .external-links-container {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
        padding: 0 1rem;
      }

      .external-links-column {
        flex: 1;
        min-width: 280px;
        max-width: 400px;
      }

      .external-links-column ul {
          list-style: none;
          padding: 0;
          text-align: left;
          margin: 0 auto;
          max-width: 350px;
      }

      .external-links-column li {
          margin: 0.8rem 0;
      }

      .divider {
        border-left: 1px solid var(--secondary-text);
      }

       #extractorCard.extractor-split .extractor-left-content {
           border-right: 1px solid var(--secondary-text);
           padding-right: 2rem;
       }

       #extractorCard.extractor-split .extractor-right-content {
           padding-left: 2rem;
       }

       @media (max-width: 700px) {
           .external-links-container {
               flex-direction: column;
               gap: 0;
           }
           .external-links-column {
               min-width: unset;
               max-width: 100%;
           }
           .external-links-column ul {
               margin-bottom: 1rem;
           }
           #extractorCard.extractor-split .extractor-left-content {
                border-right: none;
                padding-right: 1rem;
           }
            #extractorCard.extractor-split .extractor-right-content {
                padding-left: 1rem;
            }
       }
    </style>
    <style>
      .top-bar-button {
        background: none;
        border: none;
        color: var(--primary-text);
        font-size: 1rem;
        font-family: inherit;
        cursor: pointer;
        padding: 0.4rem 0.8rem;
        border-radius: 20px;
        transition: background 0.2s, color 0.2s;
      }
      .top-bar-button:hover {
        background: var(--accent);
        color: #fff;
      }
      @media (max-width: 768px) {
         .top-bar-button {
             padding: 0.3rem 0.6rem;
             font-size: 0.9rem;
         }
      }
       @media (max-width: 500px) {
          .top-bar-button {
              padding: 0.2rem 0.4rem;
              font-size: 0.8rem;
          }
       }
    </style>
    <style>
      @media (max-width: 700px) {
        #extractorCard.extractor-split {
          flex-direction: column;
          align-items: center;
        }

        #extractorCard.extractor-split .extractor-left-content {
          border-right: none;
          padding-right: 1rem;
          padding-bottom: 1.5rem;
          border-bottom: 1px solid var(--secondary-text);
          width: 100%;
        }

        #extractorCard.extractor-split .extractor-right-content {
          padding-left: 1rem;
          padding-top: 1.5rem;
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <header class="top-bar">
      <div class="project-info">
        
        <h1>Resume Skill Extractor</h1>
      </div>
      <button id="mobileNavToggle" aria-label="Toggle navigation">
          <i class="fas fa-bars"></i>
      </button>
      <div class="nav-links-container">
          <div class="github-links">
            <a href="https://github.com/abhishek-si-ngh" target="_blank">
              <i class="fab fa-github"></i> Abhishek Singh
            </a>
            <a href="https://github.com/Abhi110704" target="_blank">
              <i class="fab fa-github"></i> Abhiyanshu Anand
            </a>
            <a href="https://github.com/Sanskar2301" target="_blank">
              <i class="fab fa-github"></i> Sanskar Singh
            </a>
          </div>
          <button class="top-bar-button" id="scrollToInfoBtn">Information</button>
          <button class="top-bar-button" id="scrollToUploadBtn">Upload Resume</button>
      </div>
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode">
        <i class="fas fa-moon"></i>
      </button>
    </header>

    <div class="floating-icons">
      
    </div>
    <div id="root">
      <div class="left-section fade-in">
        <h2>Resume Skill Extractor</h2>
        <div style="margin-bottom: 30px;"></div>
        <div style="margin-bottom: 20px;"></div>
        <p>Extract and analyze skills from your resume. Switch between dark and light mode for your comfort! <br><br> Our Resume Skill Extractor helps you quickly identify key skills from your PDF resumes. Simply upload your file, and our tool will process it to present a categorized list of skills. This can be incredibly useful for job seekers looking to optimize their resumes or for recruiters analyzing candidate profiles. Use the search bar to find specific skills or browse through the categorized list. You can also save your extraction history to revisit previous analyses. We hope this tool simplifies the process of understanding and leveraging your skills! </p>
        <p style="margin-top: 20px; font-size: 0.95rem; color: var(--secondary-text);">Looking to further enhance your resume? Check out these external tools that can help you analyze your resume's overall quality, provide a resume score, and offer suggestions for improvement:</p>
        <div class="external-links-container">
          <div class="external-links-column">
            <ul class="external-links-list">
              <li><a href="https://www.mployee.me/" target="_blank"><i class="fas fa-link"></i> Check Resume on mployee.me <i class="fas fa-arrow-right"></i></a></li>
              <li><a href="https://www.resumeworded.com/" target="_blank"><i class="fas fa-link"></i> Try ResumeWorded <i class="fas fa-arrow-right"></i></a></li>
            </ul>
          </div>
          <div class="external-links-column">
            <ul class="external-links-list">
              <li><a href="https://zety.com/resume-check" target="_blank"><i class="fas fa-link"></i> Use Zety Resume Checker <i class="fas fa-arrow-right"></i></a></li>
              <li><a href="https://github.com/Abhi110704/Resume-Skill-Extractor" target="_blank"><i class="fab fa-github"></i> Check out our project on GitHub <i class="fas fa-arrow-right"></i></a></li>
            </ul>
          </div>
        </div>
        <button id="expandLeftSectionBtn" style="display: none; margin-top: 1rem; padding: 0.5rem 1rem; cursor: pointer; border-radius: 20px; border: none; background-color: var(--accent); color: white; font-size: 1rem;">Expand Reading Section</button>
         
        <button id="scrollToHistoryBtn" style="margin-top: 1rem; padding: 0.5rem 1rem; cursor: pointer; border-radius: 20px; border: none; background-color: var(--accent); color: white; font-size: 1rem; display: none;">Go to History</button>
      </div>
      <div class="right-section fade-in">
        <div id="extractorCard" class="fade-in">
          <div class="extractor-left-content">
            <div class="extractor-images">
              <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="User Icon" class="extractor-illustration" />
              <img src="https://cdn-icons-png.flaticon.com/512/1055/1055687.png" alt="Resume Icon" class="extractor-illustration" />
              <img src="https://cdn-icons-png.flaticon.com/512/2922/2922510.png" alt="Profile Icon" class="extractor-illustration" />
            </div>
            <h3>Upload Your Resume (PDF)</h3>
            <div class="extractor-actions">
              <div class="extractor-file-row">
                <input type="file" id="resumeFile" accept="application/pdf" />
                <button id="uploadBtn" onclick="uploadResume()">Extract Skills</button>
              </div>
            </div>
            <div id="status"></div>
            <input type="text" id="skillSearch" placeholder="Search skill..." style="margin-bottom: 12px; width: 100%; max-width: 350px; padding: 8px; border-radius: 8px; border: 1px solid #bbb; font-size: 1rem;" oninput="filterSkills()" />
            <div id="domainProgress" style="width: 100%; max-width: 400px; margin: 20px auto;"></div>
          </div>
          <div class="extractor-right-content">
            <div id="skillsList"></div>
            <button id="clearSkillsBtn" style="margin-top: 1rem; padding: 0.6rem 1.5rem; cursor: pointer; border-radius: 20px; border: none; background-color: #ff4d4d; color: white; font-size: 1rem; transition: background-color 0.2s;" >Clear Skills</button>
          </div>
        </div>
        <div id="historySection">
          <h3>Extraction History</h3>
          <div id="historyList"></div>
          
        </div>
      </div>
      <footer>
        &copy; 2025 Abhiyanshu Anand, Sanskar Singh, Abhishek Singh
      </footer>
    </div>
    
    
    <img src="https://cdn-icons-png.flaticon.com/512/1055/1055687.png" class="floating-img float-diag" alt="Floating Resume" style="top: 5%; right: 5%; animation-delay: 0s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/1055/1055676.png" class="floating-img float-diag2" alt="Floating Laptop" style="top: 10%; left: 85%; animation-delay: 3s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/1055/1055679.png" class="floating-img float-left-right" alt="Floating Certificate" style="bottom: 10%; left: 5%; animation-delay: 1.5s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135783.png" class="floating-img float-fast" alt="Floating Calendar" style="top: 5%; right: 10%; animation-delay: 2.2s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/5968/5968350.png" class="floating-img float-diag" alt="Floating Python Icon" style="top: 15%; left: 5%; animation-delay: 0.5s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/277/277128.png" class="floating-img float-diag2" alt="Floating SQL Icon" style="top: 35%; right: 5%; animation-delay: 1.8s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/5968/5968292.png" class="floating-img float-left-right" alt="Floating JavaScript Icon" style="bottom: 15%; left: 5%; animation-delay: 2.5s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/6132/6132222.png" class="floating-img float-fast" alt="Floating C++ Icon" style="top: 5%; right: 15%; animation-delay: 1s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/226/226777.png" class="floating-img float-diag" alt="Floating Java Icon" style="top: 60%; left: 5%; animation-delay: 3s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/755/755978.png" class="floating-img float-diag2" alt="Floating React Icon" style="top: 25%; right: 15%; animation-delay: 0.2s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/755/755981.png" class="floating-img float-left-right" alt="Floating Angular Icon" style="bottom: 5%; right: 25%; animation-delay: 1.5s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/919/919853.png" class="floating-img float-fast" alt="Floating Docker Icon" style="bottom: 15%; right: 10%; animation-delay: 0.8s;" />
    <img src="https://cdn-icons-png.flaticon.com/512/5968/5968420.png" class="floating-img float-diag" alt="Floating AWS Icon" style="top: 10%; left: 15%; animation-delay: 2.8s;" />
    <script>
      const themeToggle = document.getElementById('themeToggle');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      function setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        themeToggle.innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
      }
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        setTheme(savedTheme);
      } else {
        setTheme(prefersDark ? 'dark' : 'light');
      }
      themeToggle.addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme');
        setTheme(current === 'dark' ? 'light' : 'dark');
      });

      let extractedSkills = [];
      async function uploadResume() {
        const fileInput = document.getElementById("resumeFile");
        const status = document.getElementById("status");
        const skillsList = document.getElementById("skillsList");
        const skillSearch = document.getElementById("skillSearch");
        
        const scrollToHistoryBtn = document.getElementById('scrollToHistoryBtn');

        skillsList.innerHTML = "";
        status.innerText = "";
        extractedSkills = [];
        if (skillSearch) skillSearch.value = "";

        if (!fileInput.files.length) {
          status.innerText = "Please select a PDF file.";
          return;
        }

        const formData = new FormData();
        formData.append("file", fileInput.files[0]);

        status.innerText = "File selected, attempting upload...";

        try {
          const response = await fetch("https://resume-backend-atll.onrender.com/extract-skills/", {
            method: "POST",
            body: formData,
          });
          const data = await response.json();
          status.innerText = data.message || "";
          if (data.skills && data.skills.length) {
            extractedSkills = data.skills;
            const categorized = categorizeSkills(extractedSkills);
            renderSkills(categorized);
            document.getElementById('extractorCard').classList.add('extractor-split');
          } else {
            if (!data.message) {
              skillsList.innerText = "No skills found.";
            }
          }
        } catch (err) {
          console.error(err);
          status.innerText = "Failed to extract skills. Make sure your backend is running.";
        }

        if (extractedSkills.length > 0) {
          console.log('Attempting to save history.');
          saveHistory(fileInput.files[0].name, extractedSkills);
          console.log('History saved.');
          const historySection = document.getElementById('historySection');
          if (historySection) {
            historySection.style.display = '';
          }
          document.getElementById('extractorCard').scrollIntoView({ behavior: 'smooth' });

          const clearSkillsBtn = document.getElementById('clearSkillsBtn');
          if (clearSkillsBtn) {
              clearSkillsBtn.addEventListener('click', clearSkills);
          }
        }
      }

      const skillCategories = {
        "Programming Languages": [
          "python", "java", "javascript", "typescript", "c", "c++", "c#", "kotlin", "swift", "go", "ruby", "php", "r", "matlab", "scala", "rust"
        ],
        "Web Technologies & Frameworks": [
          "html", "css", "sass", "less", "bootstrap", "tailwind", "react", "angular", "vue", "nodejs", "express", "nextjs", "flask", "django", "fastapi", "spring", "laravel"
        ],
        "Databases": [
          "mysql", "postgresql", "mongodb", "sqlite", "oracle", "firebase", "redis", "cassandra", "neo4j"
        ],
        "Cloud & DevOps": [
          "aws", "azure", "gcp", "heroku", "render", "netlify", "docker", "kubernetes", "jenkins", "terraform", "ansible", "nginx"
        ],
        "Data Science & Machine Learning": [
          "pandas", "numpy", "scipy", "matplotlib", "seaborn", "scikit-learn", "tensorflow", "keras", "pytorch", "xgboost", "lightgbm",
          "nlp", "opencv", "machine learning", "deep learning", "data analysis", "data science", "statistics", "ai"
        ],
        "Big Data & ETL": [
          "hadoop", "spark", "hive", "pig", "airflow", "kafka", "tableau", "powerbi", "excel", "etl"
        ],
        "Tools & Platforms": [
          "git", "github", "gitlab", "bitbucket", "jira", "notion", "postman", "vs code", "vim", "intellij"
        ],
        "Testing": [
          "selenium", "pytest", "unittest", "junit", "cypress", "mocha", "chai"
        ],
        "Soft Skills": [
          "communication", "leadership", "teamwork", "problem solving", "critical thinking", "time management",
          "project management", "adaptability", "creativity", "negotiation", "presentation", "public speaking"
        ]
      };

      function categorizeSkills(skills) {
        const categorized = {};
        const lowerCaseSkillCategories = {};
        for (const category in skillCategories) {
            lowerCaseSkillCategories[category] = skillCategories[category].map(keyword => keyword.toLowerCase());
        }

        skills.forEach(skill => {
          const lowerSkill = skill.toLowerCase();
          let foundCategory = false;
          for (const category in lowerCaseSkillCategories) {
            if (lowerCaseSkillCategories[category].some(keyword => lowerSkill.includes(keyword))) {
              if (!categorized[category]) {
                categorized[category] = [];
              }
              categorized[category].push(skill);
              foundCategory = true;
              break;
            }
          }
          if (!foundCategory) {
            if (!categorized["Other"]) {
              categorized["Other"] = [];
            }
            categorized["Other"].push(skill);
          }
        });
        return categorized;
      }

      function renderSkills(categorizedSkills) {
        const skillsList = document.getElementById("skillsList");
        const domainProgressDiv = document.getElementById("domainProgress");

        skillsList.innerHTML = "";
        if (domainProgressDiv) domainProgressDiv.innerHTML = "";

        const categories = Object.keys(categorizedSkills);
        if (categories.length === 0 || (categories.length === 1 && categories[0] === "Other" && categorizedSkills["Other"].length === 0)) {
             skillsList.innerText = "No matching skills found.";
             return;
        }

        let maxSkillsInDomain = 0;
        for (const category of categories) {
            if (categorizedSkills[category].length > maxSkillsInDomain) {
                maxSkillsInDomain = categorizedSkills[category].length;
            }
        }

        if (domainProgressDiv) {
            for (const category of categories) {
                if (categorizedSkills[category].length > 0) {
                    const skillCount = categorizedSkills[category].length;
                    const percentage = maxSkillsInDomain > 0 ? (skillCount / maxSkillsInDomain) * 100 : 0;

                    const progressItemHtml = `
                        <div class="domain-progress-item">
                            <p>${category} (${skillCount})</p>
                            <div class="domain-progress-bar-container">
                                <div class="domain-progress-bar" style="width: ${percentage}%;"></div>
                            </div>
                        </div>
                    `;
                    domainProgressDiv.innerHTML += progressItemHtml;
                }
            }
        }

        for (const category of categories) {
          if (categorizedSkills[category].length > 0) {
            const categoryHeading = document.createElement("h4");
            categoryHeading.innerText = `${category} (${categorizedSkills[category].length})`;
            categoryHeading.style.marginTop = "1.5rem";
            categoryHeading.style.marginBottom = "0.8rem";
            categoryHeading.style.color = "var(--primary-text)";
            categoryHeading.style.textAlign = "left";
            categoryHeading.style.width = "100%";
            categoryHeading.style.maxWidth = "350px";
            categoryHeading.style.margin = "1.5rem auto 0.8rem auto";


            skillsList.appendChild(categoryHeading);

            const skillsContainer = document.createElement("div");
            skillsContainer.style.display = "flex";
            skillsContainer.style.flexWrap = "wrap";
            skillsContainer.style.gap = "8px";
            skillsContainer.style.justifyContent = "center";
            skillsContainer.style.marginTop = "0.5rem";
            skillsContainer.style.marginBottom = "1rem";


            categorizedSkills[category].forEach(skill => {
              const chip = document.createElement("span");
              const iconHtml = getSkillIcon(skill);
              chip.innerHTML = `${iconHtml}${skill}`;
              chip.className = "skill-chip";
              skillsContainer.appendChild(chip);
            });
            skillsList.appendChild(skillsContainer);
          }
        }
      }

      function getSkillIcon(skill) {
          const lowerSkill = skill.toLowerCase();
          if (lowerSkill.includes('python')) return '<i class="fab fa-python"></i> ';
          if (lowerSkill.includes('java')) return '<i class="fab fa-java"></i> ';
          if (lowerSkill.includes('javascript') || lowerSkill.includes('js')) return '<i class="fab fa-js"></i> ';
          if (lowerSkill.includes('react')) return '<i class="fab fa-react"></i> ';
          if (lowerSkill.includes('angular')) return '<i class="fab fa-angular"></i> ';
          if (lowerSkill.includes('vue')) return '<i class="fab fa-vuejs"></i> ';
          if (lowerSkill.includes('html')) return '<i class="fab fa-html5"></i> ';
          if (lowerSkill.includes('css')) return '<i class="fab fa-css3-alt"></i> ';
          if (lowerSkill.includes('git')) return '<i class="fab fa-git-alt"></i> ';
          if (lowerSkill.includes('github')) return '<i class="fab fa-github"></i> ';
          if (lowerSkill.includes('docker')) return '<i class="fab fa-docker"></i> ';
          if (lowerSkill.includes('aws')) return '<i class="fab fa-aws"></i> ';
          return '';
      }

      function filterSkills() {
        const skillSearch = document.getElementById("skillSearch");
        const query = skillSearch.value.trim().toLowerCase();
        if (!query) {
          renderSkills(categorizeSkills(extractedSkills));
        } else {
          const filtered = extractedSkills.filter(skill => skill.toLowerCase().includes(query));
          renderSkills(categorizeSkills(filtered));
        }
      }

      function saveHistory(filename, skills) {
        console.log('saveHistory called with:', {filename, skills});
        const history = JSON.parse(localStorage.getItem('extractionHistory') || '[]');
        console.log('Current history from local storage:', history);
        const newEntry = {
          filename: filename,
          skills: skills,
          timestamp: new Date().toISOString()
        };
        history.push(newEntry);
        console.log('New history array:', history);
        try {
            localStorage.setItem('extractionHistory', JSON.stringify(history));
            console.log('History successfully written to local storage.');
        } catch (e) {
            console.error('Error saving history to local storage:', e);
        }
        renderHistory();
        console.log('renderHistory called from saveHistory.');
      }

      function renderHistory() {
        console.log('renderHistory called.');
        const historyListDiv = document.getElementById('historyList');
        if (!historyListDiv) {
            console.log('historyListDiv not found.');
            return;
        }

        const history = JSON.parse(localStorage.getItem('extractionHistory') || '[]');
        console.log('History read from local storage for rendering:', history);
        historyListDiv.innerHTML = '';

        if (history.length === 0) {
          historyListDiv.innerHTML = '<p>No history yet.</p>';
          console.log('History is empty, hiding history section.');
          const historySection = document.getElementById('historySection');
          if (historySection) {
            historySection.style.display = 'none';
          }
          return;
        }

        const historySection = document.getElementById('historySection');
        if (historySection) {
          historySection.style.display = '';
          console.log('History is not empty, showing history section.');
        }

        history.forEach(entry => {
          console.log('Rendering history entry:', entry);
          const entryElement = document.createElement('div');
          entryElement.className = 'history-entry';
          const date = new Date(entry.timestamp);
          entryElement.innerHTML = `
            <div class="history-entry-info">
                <p class="history-entry-name"><strong>${entry.filename}</strong></p>
                <p>${date.toLocaleString()}</p>
                <p>${entry.skills.length} skills extracted</p>
            </div>
             <div class="history-entry-actions">
                <i class="fas fa-trash history-entry-delete" data-timestamp="${entry.timestamp}"></i>
            </div>
          `;
          entryElement.querySelector('.history-entry-info').addEventListener('click', () => loadFromHistory(entry.skills));
          entryElement.querySelector('.history-entry-delete').addEventListener('click', (e) => {
            e.stopPropagation();
            deleteHistoryEntry(e.target.dataset.timestamp);
          });

          historyListDiv.appendChild(entryElement);
        });
      }

      function deleteHistoryEntry(timestamp) {
        let history = JSON.parse(localStorage.getItem('extractionHistory') || '[]');
        history = history.filter(entry => entry.timestamp !== timestamp);
        localStorage.setItem('extractionHistory', JSON.stringify(history));
        renderHistory();
      }

      function loadFromHistory(skills) {
        extractedSkills = skills;
        const categorized = categorizeSkills(extractedSkills);
        renderSkills(categorized);
        const status = document.getElementById("status");
        if (status) status.innerText = `Loaded ${skills.length} skills from history.`;
        const skillSearch = document.getElementById("skillSearch");
        if (skillSearch) skillSearch.value = "";

        const scrollToExtractorBtn = document.getElementById('scrollToExtractorBtn');
        const scrollToHistoryBtn = document.getElementById('scrollToHistoryBtn');
         if (scrollToExtractorBtn) scrollToExtractorBtn.style.display = 'none';
         if (scrollToHistoryBtn) scrollToHistoryBtn.style.display = 'block';
      }

      function clearSkills() {
          extractedSkills = [];
          const skillsList = document.getElementById('skillsList');
          const domainProgressDiv = document.getElementById("domainProgress");
          if (skillsList) skillsList.innerHTML = '';
          if (domainProgressDiv) domainProgressDiv.innerHTML = '';
          const status = document.getElementById('status');
          if (status) status.innerText = 'Skills cleared.';
          const skillSearch = document.getElementById('skillSearch');
          if (skillSearch) skillSearch.value = '';

          const leftSection = document.querySelector('.left-section');
          const rightSection = document.querySelector('.right-section');
          const extractorCard = document.getElementById('extractorCard');
          const historySection = document.getElementById('historySection');

          if (leftSection) leftSection.classList.remove('collapsed-left');
          if (rightSection) rightSection.classList.remove('expanded-right');
          if (extractorCard) extractorCard.classList.remove('extractor-split');

          if (historySection) historySection.style.display = 'none';

          const scrollToHistoryBtn = document.getElementById('scrollToHistoryBtn');
            
            if (scrollToHistoryBtn) scrollToHistoryBtn.style.display = 'none';
      }

      renderHistory();
      console.log('Initial renderHistory call on page load.');

      const expandButton = document.getElementById('expandLeftSectionBtn');
      if (expandButton) {
          expandButton.addEventListener('click', () => {
              const leftSection = document.querySelector('.left-section');
              const rightSection = document.querySelector('.right-section');
              if (leftSection) leftSection.classList.remove('collapsed-left');
              if (rightSection) rightSection.classList.remove('expanded-right');
              expandButton.style.display = 'none';
              const extractorCard = document.getElementById('extractorCard');
              if (extractorCard) extractorCard.classList.remove('extractor-split');

               const scrollToHistoryBtn = document.getElementById('scrollToHistoryBtn');
               if (scrollToHistoryBtn) {
                   scrollToHistoryBtn.style.display = 'none';
               }
            });
        }

      const leftSection = document.querySelector('.left-section');
      if (leftSection) {
          leftSection.addEventListener('transitionend', () => {
              if (!leftSection.classList.contains('collapsed-left')) {
                  const extractorCard = document.getElementById('extractorCard');
                  if (extractorCard) extractorCard.classList.remove('extractor-split');
              }
          });
      }

       const scrollToHistoryBtn = document.getElementById('scrollToHistoryBtn');
       if (scrollToHistoryBtn) {
           scrollToHistoryBtn.addEventListener('click', () => {
               const historySection = document.getElementById('historySection');
               console.log('History button clicked.');
               console.log('History section element:', historySection);
               console.log('History section display style:', historySection ? historySection.style.display : 'N/A');
               if (historySection && historySection.style.display !== 'none') {
                    historySection.scrollIntoView({ behavior: 'smooth' });
                    console.log('Scrolled to history section.');
               } else {
                   console.log('History section not visible, not scrolling.');
               }
           });
       }
        renderHistory();
        console.log('Second renderHistory call at the end of the script.');

       const scrollToInfoButton = document.getElementById('scrollToInfoBtn');
       if (scrollToInfoButton) {
           scrollToInfoButton.addEventListener('click', () => {
               const infoSection = document.querySelector('.left-section');
               if (infoSection) {
                   infoSection.scrollIntoView({ behavior: 'smooth' });
               }
           });
       }

       const scrollToUploadButton = document.getElementById('scrollToUploadBtn');
       if (scrollToUploadButton) {
           scrollToUploadButton.addEventListener('click', () => {
               const uploadSection = document.getElementById('extractorCard');
               if (uploadSection) {
                   uploadSection.scrollIntoView({ behavior: 'smooth' });
               }
           });
        }
    </script>
    <script>
        const mobileNavToggle = document.getElementById('mobileNavToggle');
        const navLinksContainer = document.querySelector('.nav-links-container');

        if (mobileNavToggle && navLinksContainer) {
            mobileNavToggle.addEventListener('click', () => {
                navLinksContainer.classList.toggle('expanded');
                const icon = mobileNavToggle.querySelector('i');
                if (navLinksContainer.classList.contains('expanded')) {
                    icon.className = 'fas fa-times';
                } else {
                    icon.className = 'fas fa-bars';
                }
            });

            navLinksContainer.querySelectorAll('a, button').forEach(item => {
                item.addEventListener('click', () => {
                    if (navLinksContainer.classList.contains('expanded')) {
                        navLinksContainer.classList.remove('expanded');
                         mobileNavToggle.querySelector('i').className = 'fas fa-bars';
                    }
                });
            });
        }
    </script>
  </body>
</html>
